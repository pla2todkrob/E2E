async function adjustHeight(){if($(document).find("#serviceInfo").length){$("#serviceComment").innerHeight(0);var n=$("#serviceInfo").innerHeight();$("#serviceComment").innerHeight(n);$("#commentHis").animate({scrollTop:5e3})}$(document).find("#refSection").length&&$("#refSection").find(".refInfo").each(function(){$(this).find(".refComment").innerHeight(0);var n=$(this).find(".refData").innerHeight();$(this).find(".refComment").innerHeight(n)})}async function CheckNotClose(n,t,i=false){$.ajax({url:t,"async":!0,success:function(t){if(t.Option!=null)swal({title:t.Title,text:t.Text,icon:t.Icon,button:t.Button,dangerMode:t.DangerMode}).then(function(){if(t.Icon=="warning")return window.location.href=baseUrl+"/Services/ServiceInfomation/"+t.Option});else return callModalService(n,i)}})}async function callModalService(n,t=false){return $.ajax({url:n,"async":!0,success:function(n){t?$("#modalContent").parent().addClass("modal-lg"):$("#modalContent").parent().removeClass("modal-lg");$("#modalContent").html(n);$("#modalContent").find("select").each(function(){$(this).select2({theme:"bootstrap4",width:"100%"}).trigger("change.select2")});$("#User_Id").on("select2:select",function(n){getSelectOp(baseUrl+"/Services/GetServiceRef",n.params.data.id,"#Ref_Service_Id")});$("#Priority_Id").on("select2:select",function(n){setDateRange(n.params.data.id)});$("#modalArea").modal("show")}})}async function deleteFile(n,t){swal({title:"Are you sure?",text:"Once deleted, you will not be able to recover this file",icon:"warning",buttons:!0,dangerMode:!0}).then(i=>{i&&$.ajax({url:n,"async":!0,success:function(n){swal({title:n.Title,text:n.Text,icon:n.Icon,button:n.Button,dangerMode:n.DangerMode}).then(function(){if(n.Icon=="success")return $("#fileTable").load(t)})}})})}async function setDateRange(n){return $.ajax({url:baseUrl+"/Services/GetPriorityDateRange",data:{id:n},"async":!0,success:function(n){var t=new Date;t.setDate(t.getDate()+n);$("#Service_DueDate").attr("min",moment(t).format("YYYY-MM-DD"))}})}async function setRequired(n,t){swal({title:`Are you sure?`,text:`This item will be sent to the requester's department manager.`,buttons:!0,icon:`warning`}).then(i=>{i&&$.ajax({url:n,"async":!0,success:function(n){swal({title:n.Title,text:n.Text,icon:n.Icon,button:n.Button,dangerMode:n.DangerMode}).then(function(){if(n.Icon=="success")return window.location.replace(t)})}})})}async function setCommitToDepartment(n,t){swal({title:"Are you sure?",text:"This item request will be imported to your department.",buttons:!0,icon:"warning"}).then(i=>{i&&$.ajax({url:n,"async":!0,success:function(n){swal({title:n.Title,text:n.Text,icon:n.Icon,button:n.Button,dangerMode:n.DangerMode}).then(function(){if(n.Icon=="success")return window.location.replace(t)})}})})}async function resendEmail(n){swal({title:"Are you sure?",text:"An email will be sent to the creator of the request again.",buttons:!0,icon:"warning"}).then(t=>{t&&$.ajax({url:n,"async":!0,success:function(n){return swal({title:n.Title,text:n.Text,icon:n.Icon,button:n.Button,dangerMode:n.DangerMode})}})})}$(function(){adjustHeight().then(()=>{$(window).resize(function(){adjustHeight()})})});