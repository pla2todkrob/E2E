function callModalForm(n,t,i,r=false){return $.ajax({url:n,"async":!0,success:function(n){r?$("#modalContent").parent().addClass("modal-lg"):$("#modalContent").parent().removeClass("modal-lg");$("#modalContent").html(n);$("#modalContent").find("select").each(function(){$(this).select2({theme:"bootstrap4",width:"100%"})});$("#Ref_Service_Id").on("select2:select",function(n){setUserRef(i,n.params.data.id)});$("#Priority_Id").on("select2:select",function(n){setDateRange(t,n.params.data.id)});$("#modalArea").modal("show")}}),!1}function deleteFile(n,t){swal({title:"Are you sure?",text:"Once deleted, you will not be able to recover this file",icon:"warning",buttons:!0,dangerMode:!0}).then(i=>{if(i)return $.ajax({url:n,"async":!0,success:function(n){swal({title:n.title,text:n.text,icon:n.icon,button:n.button,dangerMode:n.dangerMode});n.icon=="success"&&$("#fileTable").load(t)}}),!1})}function setDateRange(n,t){$.ajax({url:n,data:{id:t},"async":!0,success:function(n){var t=new Date;t.setDate(t.getDate()+n);$("#Service_DueDate").attr("min",moment(t).format("YYYY-MM-DD"))}})}function setRequired(n,t){return swal({title:"Are you sure?",text:"This item will be sent to the requester's department manager.",buttons:!0,icon:"warning"}).then(i=>{i&&$.ajax({url:n,"async":!0,success:function(n){swal({title:n.title,text:n.text,icon:n.icon,button:n.button,dangerMode:n.dangerMode}).then(function(){n.icon=="success"&&window.location.replace(t)})}})}),!1}function setCommitToDepartment(n,t){return swal({title:"Are you sure?",text:"This item request will be imported to your department.",buttons:!0,icon:"warning"}).then(i=>{i&&$.ajax({url:n,"async":!0,success:function(n){swal({title:n.title,text:n.text,icon:n.icon,button:n.button,dangerMode:n.dangerMode}).then(function(){n.icon=="success"&&window.location.replace(t)})}})}),!1}function setApprove(n){swal({title:"Are you sure?",text:"If approval is confirmed, it cannot be reversed.",icon:"warning",buttons:!0}).then(t=>{if(t)return $.ajax({url:n,"async":!0,success:function(n){swal({title:n.title,text:n.text,icon:n.icon,button:n.button,dangerMode:n.dangerMode});n.icon=="success"&&location.reload()}}),!1})}function setUserRef(n,t){$("#User_Id").val("").trigger("change");t!=""?$.ajax({url:n,data:{id:t},"async":!0,success:function(n){$("#User_Id").val(n).trigger("change");$("#User_Id").prop("disabled",!0)}}):$("#User_Id").prop("disabled",!1)}