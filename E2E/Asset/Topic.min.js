async function callModalTopics(n,t="",i=false){return $.ajax({url:n,"async":!0,success:function(n){i?$("#modalContent").parent().addClass("modal-lg"):$("#modalContent").parent().removeClass("modal-lg");$("#modalContent").html(n);$("#modalContent").find("select").each(function(){$(this).select2({theme:"bootstrap4",width:"100%"})});checkPin($("#Topic_Pin"));$("#Topic_Pin").on("change",function(){checkPin(this)});t!=""&&callFileCollection(t);$("#modalArea").modal("show")}})}async function savegallery_T(n,t){var i=[];return await $("table#tableGal").find("tbody").each(function(){$(this).find("tr").each(function(){$(this).find("td#rowVal").each(function(){var n={};n.TopicGallery_Id=$(this).find("#item_TopicGallery_Id").val();n.TopicGallery_Seq=$(this).find("#item_TopicGallery_Seq").val();i.push(n)})})}),$.ajax({url:n,"async":!0,data:{model:JSON.stringify(i)},success:function(n){swal({title:n.Title,text:n.Text,icon:n.Icon,button:n.Button,dangerMode:n.DangerMode}).then(function(){n.Icon=="success"&&(reloadTable(),callFileCollection(t))})}})}async function checkPin(n){return $(n).is(":checked")?(await $("#Topic_Pin_EndDate").attr("required","required"),$("#Pins").slideDown()):(await $("#Topic_Pin_EndDate").removeAttr("required"),$("#Pins").slideUp())}async function callFileCollection(n){return $("#fileCollection").load(n)}async function deleteFiles(n,t){return swal({title:"Are you sure?",text:"Once deleted, you will not be able to recover this file",icon:"warning",buttons:!0,dangerMode:!0}).then(i=>{i&&$.ajax({url:n,"async":!0,success:function(n){swal({title:n.Title,text:n.Text,icon:n.Icon,button:n.Button,dangerMode:n.DangerMode}).then(function(){n.Icon=="success"&&(reloadTable(),callFileCollection(t))})}})})}async function previewMultiple(n){var t,r,u,f;for($("#galImage").empty(),t=await document.getElementById("fileImage"),r=await t.files.length,i=0;i<r;i++)u=URL.createObjectURL(n.target.files[i]),f=n.target.files[i].type.split("/")[0],document.getElementById("galImage").innerHTML+=f=="image"?'<img src="'+u+'"class="img-fluid img-thumbnail mr-1" style="height:100px" title="'+n.target.files[i].name+'">':'<i class="fa fa-file-text-o fa-5x" style="height:100px" title="'+n.target.files[i].name+'"><\/i>'}