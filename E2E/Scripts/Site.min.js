async function reloadCount(){await $("#nav_service").load(baseUrl+"/Configurations/_NavService");await $("#nav_department").load(baseUrl+"/Configurations/_NavDepartment");await $("#nav_Newtopic").load(baseUrl+"/Topics/_Newtopic");await $("._reloadCountA").load(baseUrl+"/Topics/_SortTopicAnnounce");await $("._reloadCountN").load(baseUrl+"/Topics/_SortTopicNew")}async function callSpin(n){const t=await document.getElementById("objSpin"),i=await new Spinner({lines:13,length:38,width:17,radius:45,scale:1,corners:1,speed:1,rotate:0,animation:"spinner-line-fade-quick",direction:1,color:"#ffffff",fadeColor:"transparent",top:"50%",left:"50%",shadow:"0 0 1px transparent",className:"spinner",position:"fixed"}).spin(t);n?await t.appendChild(i.el):await $(t).empty()}function getQueryString(){let n=window.location.search.substring(1).split("&"),r={},t,i;for(i in n)n[i]!==""&&(t=n[i].split("="),r[decodeURIComponent(t[0])]=decodeURIComponent(t[1]));return JSON.stringify(r)}async function getQueryStringName(n){const t=window.location.href.slice(window.location.href.indexOf("?")+1).split("&");for(let i=0;i<t.length;i++){let r=t[i].split("=");if(r[0]==n)return r[1]}return"empty"}async function clearQueryString(){return await history.pushState({},null,location.href.split("?")[0]),location.reload()}async function callTable(n,t=false,i=false,r=[],u="#datalist"){return $.ajax({url:n,"async":!0,data:{filter:getQueryString()},success:function(n){$(u).html(n);$(u).find("select").each(function(){$(this).select2({theme:"bootstrap4",width:"100%"})});let e=[],f={};$.each(r,function(n,t){f={};f.targets=t;f.type="date";e.push(f)});$(u).find("table").each(function(){t&&i?(f={},f.targets=0,f.orderable=!1,e.push(f),$(this).DataTable({columnDefs:e,order:[[r[0],"desc"]],scrollX:!0})):t?$(this).DataTable({columnDefs:e,order:[[r[0],"desc"]],scrollX:!0}):i?$(this).DataTable({columnDefs:[{targets:0,orderable:!1}],scrollX:!0}):$(this).DataTable({scrollX:!0})})}})}async function callTable_NoSort(n,t=false,i=[],r="#datalist"){return $.ajax({url:n,"async":!0,data:{filter:getQueryString()},success:function(n){$(r).html(n);$(r).find("select").each(function(){$(this).select2({theme:"bootstrap4",width:"100%"})});let u;$(r).find("table").each(function(){if(t){let t=[],n={};$.each(i,function(i,r){n={};n.targets=r;n.type="date";t.push(n)});u=$(this).DataTable({columnDefs:t,ordering:!1,scrollX:!0})}else u=$(this).DataTable({ordering:!1,scrollX:!0})});u.columns.adjust()}})}async function callFilter(n,t="#filter"){return $.ajax({url:n,"async":!0,cache:!1,contentType:"application/json",data:{filter:getQueryString()},success:function(n){$(t).html(n).fadeIn(500);$(t).find("select").each(function(){$(this).select2({width:"100%",theme:"bootstrap4"})})}})}async function setTable_File(n,t=false,i=false){return table=await $(n).DataTable({ordering:t,searching:i})}async function setDropdown_Form(){return $("form").find("select").each(function(){$(this).select2({theme:"bootstrap4",width:"100%"})})}async function callModal(n,t=false,i=null){return $.ajax({url:n,"async":!0,success:function(n){t?$("#modalContent").parent().addClass("modal-lg"):$("#modalContent").parent().removeClass("modal-lg");$("#modalContent").html(n);$("#modalContent").find("select").each(function(){$(this).select2({theme:"bootstrap4",width:"100%"})});i!=null&&i();$("#modalArea").modal("show")}})}async function callModalTable(n,t=false){return $.ajax({url:n,"async":!0,success:function(n){t?$("#modalContent").parent().addClass("modal-lg"):$("#modalContent").parent().removeClass("modal-lg");$("#modalContent").html(n);$("#modalContent").find("select").each(function(){$(this).select2({theme:"bootstrap4",width:"100%"})});$("#modalContent").find("table").each(function(){$(this).DataTable()});$("#modalArea").modal("show")}})}async function callSubmitModal(n,t){return swal({title:"Are you sure?",text:"This information is saved to the database.",buttons:!0,icon:"warning"}).then(function(i){if(i){const i=new FormData(t);$.ajax({url:n,method:"POST","async":!0,data:i,processData:!1,contentType:!1,traditional:!0,success:function(n){swal({title:n.Title,text:n.Text,icon:n.Icon,button:n.Button,dangerMode:n.DangerMode}).then(function(){n.Icon=="success"&&($("#modalArea").modal("hide"),reloadCount().then(function(){reloadTable()}))})}})}})}async function callSubmitPage(n,t){return swal({title:"Are you sure?",text:"This information is saved to the database.",buttons:!0,icon:"warning"}).then(function(i){if(i){const i=new FormData(t);$.ajax({url:n,method:"POST","async":!0,data:i,processData:!1,contentType:!1,traditional:!0,success:function(n){swal({title:n.Title,text:n.Text,icon:n.Icon,button:n.Button,dangerMode:n.DangerMode}).then(function(){n.Icon=="success"&&window.location.reload()})}})}})}async function callSubmitRedirect(n,t,i){return swal({title:"Are you sure?",text:"This information is saved to the database.",buttons:!0,icon:"warning"}).then(r=>{if(r){const r=new FormData(t);$.ajax({url:n,method:"POST","async":!0,data:r,processData:!1,contentType:!1,traditional:!0,success:function(n){swal({title:n.Title,text:n.Text,icon:n.Icon,button:n.Button,dangerMode:n.DangerMode}).then(function(){n.Icon=="success"&&(n.Option!=null&&(i+="/"+n.Option),window.location.href=i)})}})}})}async function callDeleteItem(n,t=false){return swal({title:"Are you sure?",text:"Once you delete this information, you cannot recover it.",icon:"warning",buttons:!0,dangerMode:!0}).then(i=>{i&&$.ajax({url:n,"async":!0,success:function(n){swal({title:n.Title,text:n.Text,icon:n.Icon,button:n.Button,dangerMode:n.DangerMode}).then(function(){n.Icon=="success"&&($("#modalArea").modal("hide"),t?location.reload():reloadTable())})}})})}async function notifySignout(n){return swal({title:"Are you sure?",text:"Signout",icon:"warning",buttons:!0,dangerMode:!0}).then(t=>{t&&(location.href=n)})}async function getSelectOp(n,t,i){const r=$(i);return r.empty(),$.ajax({url:n,data:{id:t},"async":!0,success:function(n){$.each(n,function(n,t){r.append(new Option(t.Text,t.Value))})}})}async function setSuccessByIdRePage(n){return swal({title:"Are you sure?",text:"If is confirmed, it cannot be reversed.",icon:"warning",buttons:!0}).then(t=>{t&&$.ajax({url:n,"async":!0,success:function(n){swal({title:n.Title,text:n.Text,icon:n.Icon,button:n.Button,dangerMode:n.DangerMode}).then(function(){n.Icon=="success"&&location.reload()})}})})}async function setDangerByIdRePage(n){return swal({title:"Are you sure?",text:"If is confirmed, it cannot be reversed.",icon:"warning",buttons:!0,dangerMode:!0}).then(t=>{t&&$.ajax({url:n,"async":!0,success:function(n){swal({title:n.Title,text:n.Text,icon:n.Icon,button:n.Button,dangerMode:n.DangerMode}).then(function(){n.Icon=="success"&&location.reload()})}})})}async function setSuccessByIdReTable(n){return swal({title:"Are you sure?",text:"If is confirmed, it cannot be reversed.",icon:"warning",buttons:!0}).then(t=>{t&&$.ajax({url:n,"async":!0,success:function(n){swal({title:n.Title,text:n.Text,icon:n.Icon,button:n.Button,dangerMode:n.DangerMode}).then(function(){n.Icon=="success"&&reloadTable()})}})})}async function setDangerByIdReTable(n){return swal({title:"Are you sure?",text:"If is confirmed, it cannot be reversed.",icon:"warning",buttons:!0,dangerMode:!0}).then(t=>{t&&$.ajax({url:n,"async":!0,success:function(n){swal({title:n.Title,text:n.Text,icon:n.Icon,button:n.Button,dangerMode:n.DangerMode}).then(function(){n.Icon=="success"&&reloadTable()})}})})}async function setSuccessByIdReDirect(n,t){return swal({title:"Are you sure?",text:"If is confirmed, it cannot be reversed.",icon:"warning",buttons:!0}).then(i=>{i&&$.ajax({url:n,"async":!0,success:function(n){swal({title:n.Title,text:n.Text,icon:n.Icon,button:n.Button,dangerMode:n.DangerMode}).then(function(){n.Icon=="success"&&(n.Option!=null&&(t+="/"+n.Option),window.location.href=t)})}})})}async function setDangerByIdReDirect(n,t){return swal({title:"Are you sure?",text:"If is confirmed, it cannot be reversed.",icon:"warning",buttons:!0,dangerMode:!0}).then(i=>{i&&$.ajax({url:n,"async":!0,success:function(n){swal({title:n.Title,text:n.Text,icon:n.Icon,button:n.Button,dangerMode:n.DangerMode}).then(function(){n.Icon=="success"&&(n.Option!=null&&(t+="/"+n.Option),window.location.href=t)})}})})}async function callDeleteIMG_SC(n){return swal({title:"Are you sure?",text:"Once you delete this information, you cannot recover it.",icon:"warning",buttons:!0,dangerMode:!0}).then(t=>{t&&$.ajax({url:n,"async":!0,success:function(n){swal({title:n.Title,text:n.Text,icon:n.Icon,button:n.Button,dangerMode:n.DangerMode}).then(function(){if(n.Icon=="success"){const t=n.Option;$("#MediaSC").empty();$("#"+t).empty()}})}})})}async function scrollFunction(){const n=$("#btnToTop");return document.body.scrollTop>300||document.documentElement.scrollTop>300?n.fadeIn():n.fadeOut()}async function topFunction(){await window.scrollTo({top:0,behavior:"smooth"})}const baseUrl="/E2E";let chat;$(function(){let n=!0;const t=window.location.pathname,i=new RegExp(t.replace(/\/$/,"")+"$");$("#navbar_top").find("ul.navbar-nav").each(function(){$(this).find("li.nav-item a").each(function(){n&&i.test(this.href.replace(/\/$/,""))&&($(this).addClass("active"),n=!1)})});$('a[data-toggle="tab"]').on("shown.bs.tab",function(){$($.fn.dataTable.tables(!0)).DataTable().columns.adjust()});$('a[data-toggle="pill"]').on("shown.bs.tab",function(){$($.fn.dataTable.tables(!0)).DataTable().columns.adjust()});reloadCount().then(function(){scrollFunction()})});$(document).ajaxStart(function(){callSpin(!0)}).ajaxStop(function(){callSpin(!1)});window.onscroll=function(){scrollFunction()};