function AdjustMenu(){var n=$("#sidebar").innerHeight(),t=$("#brand").innerHeight(),i=n-t;$("#menu").innerHeight(i)}function callSpin(n){var t=document.getElementById("objSpin"),i=new Spinner({lines:13,length:38,width:17,radius:45,scale:1,corners:1,speed:1,rotate:0,animation:"spinner-line-fade-quick",direction:1,color:"#ffffff",fadeColor:"transparent",top:"50%",left:"50%",shadow:"0 0 1px transparent",zIndex:2e9,className:"spinner",position:"absolute"}).spin(t);n?t.appendChild(i.el):$(t).empty()}function callTable(n,t=false,i=false,r=0,u="#datalist"){return $.ajax({url:n,"async":!0,success:function(n){$(u).html(n);$(u).find("table").each(function(){t&&i?$(this).DataTable({columnDefs:[{targets:r,type:"date"},{targets:0,orderable:!1}],order:[[r,"desc"]],scrollX:!0}):t?$(this).DataTable({columnDefs:[{targets:r,type:"date"}],order:[[r,"desc"]],scrollX:!0}):i?$(this).DataTable({columnDefs:[{targets:0,orderable:!1}],scrollX:!0}):$(this).DataTable({scrollX:!0})})}}),!1}function callModal(n,t=false){return $.ajax({url:n,"async":!0,success:function(n){t?$("#modalContent").parent().addClass("modal-lg"):$("#modalContent").parent().removeClass("modal-lg");$("#modalContent").html(n);$("#modalContent").find("select").each(function(){$(this).select2({theme:"bootstrap4",width:"100%"})});$("#modalArea").modal("show")}}),!1}function callModalDepartment(n,t=false){return $("#Master_Divisions_Plant_Id").trigger("select2:select"),$.ajax({url:n,"async":!0,success:function(n){t?$("#modalContent").parent().addClass("modal-lg"):$("#modalContent").parent().removeClass("modal-lg");$("#modalContent").html(n);$("#modalContent").find("select").each(function(){$(this).select2({theme:"bootstrap4",width:"100%"})});$("#modalArea").modal("show");$("#Master_Divisions_Plant_Id").on("select2:select",function(){var n=$("#Division_Id");getDivisions(n,$(this).val())})}}),!1}function callModalSection(n,t=false){return $("#Master_Departments_Master_Divisions_Plant_Id").trigger("select2:select"),$("#Master_Departments_Division_Id").trigger("select2:select"),$.ajax({url:n,"async":!0,success:function(n){t?$("#modalContent").parent().addClass("modal-lg"):$("#modalContent").parent().removeClass("modal-lg");$("#modalContent").html(n);$("#modalContent").find("select").each(function(){$(this).select2({theme:"bootstrap4",width:"100%"})});$("#modalArea").modal("show");$("#Master_Departments_Division_Id").on("select2:select",function(){var n=$("#Department_Id");getDepartments(n,$(this).val());n.trigger("select2:select")});$("#Master_Departments_Master_Divisions_Plant_Id").on("select2:select",function(){var n=$("#Master_Departments_Division_Id");getDivisions(n,$(this).val());n.trigger("select2:select")})}}),!1}function callModalProcesses(n,t=false){return $("#Master_Sections_Master_Departments_Master_Divisions_Plant_Id").trigger("select2:select"),$("#Master_Sections_Master_Departments_Division_Id").trigger("select2:select"),$("#Master_Sections_Department_Id").trigger("select2:select"),$.ajax({url:n,"async":!0,success:function(n){t?$("#modalContent").parent().addClass("modal-lg"):$("#modalContent").parent().removeClass("modal-lg");$("#modalContent").html(n);$("#modalContent").find("select").each(function(){$(this).select2({theme:"bootstrap4",width:"100%"})});$("#modalArea").modal("show");$("#Master_Sections_Master_Departments_Division_Id").on("select2:select",function(){var n=$("#Master_Sections_Department_Id");getDepartments(n,$(this).val());n.trigger("select2:select")});$("#Master_Sections_Master_Departments_Master_Divisions_Plant_Id").on("select2:select",function(){var n=$("#Master_Sections_Master_Departments_Division_Id");getDivisions(n,$(this).val());n.trigger("select2:select")});$("#Master_Sections_Department_Id").on("select2:select",function(){var n=$("#Section_Id");getSections(n,$(this).val());n.trigger("select2:select")})}}),!1}function callSubmit(n,t=false){var i=$("form")[0],r=new FormData(i);return $.ajax({url:n,method:"POST","async":!0,data:r,processData:!1,contentType:!1,traditional:!0,success:function(n){swal({title:n.title,text:n.text,icon:n.icon,button:n.button,dangerMode:n.dangerMode});n.icon=="success"&&($("#modalArea").modal("hide"),t?location.reload():reloadTable())}}),!1}function callFileSubmit(n,t,i=false){for(var u=document.getElementById(t),e=$("form")[0],f=new FormData(e),r=0;r<u.files.length;r++)f.append(u.files[r].name,u.files[r]);return $.ajax({url:n,method:"POST","async":!0,data:f,processData:!1,contentType:!1,traditional:!0,success:function(n){swal({title:n.title,text:n.text,icon:n.icon,button:n.button,dangerMode:n.dangerMode});n.icon=="success"&&($("#modalArea").modal("hide"),i?location.reload():reloadTable())}}),!1}function callModalUser(n,t=false){return $.ajax({url:n,"async":!0,success:function(n){t?$("#modalContent").parent().addClass("modal-lg"):$("#modalContent").parent().removeClass("modal-lg");$("#modalContent").html(n);$("#modalContent").find("select").each(function(){$(this).select2({theme:"bootstrap4",width:"100%"})});$("#modalArea").modal("show");$("#Users_LineWork_Id").on("select2:select",function(){var n=$("#Users_Grade_Id");getGrades(n,$(this).val())});$("#Users_Plant_Id").on("select2:select",function(){var n=$("#Users_Division_Id");getDivisions(n,$(this).val());n.trigger("select2:select")});$("#Users_Division_Id").on("select2:select",function(){var n=$("#Users_Department_Id");getDepartments(n,$(this).val());n.trigger("select2:select")});$("#Users_Department_Id").on("select2:select",function(){var n=$("#Users_Section_Id");getSections(n,$(this).val());n.trigger("select2:select")});$("#Users_Section_Id").on("select2:select",function(){var n=$("#Users_Process_Id");getProcesses(n,$(this).val());n.trigger("select2:select")})}}),!1}function getGrades(n,t){return n.empty(),n.append(new Option("Select Grade","")),t!=""&&$.ajax({url:"/Masters/Users_GetSelectGrades",data:{id:t},"async":!0,success:function(t){$.each(t,function(t,i){n.append(new Option(i.Text,i.Value))})}}),!1}function getDivisions(n,t){return n.empty(),n.append(new Option("Select Division","")),t!=""&&$.ajax({url:"/Masters/Users_GetSelectDivisions",data:{id:t},"async":!0,success:function(t){$.each(t,function(t,i){n.append(new Option(i.Text,i.Value))})}}),!1}function getDepartments(n,t){return n.empty(),n.append(new Option("Select Department","")),t!=""&&$.ajax({url:"/Masters/Users_GetSelectDepartments",data:{id:t},"async":!0,success:function(t){$.each(t,function(t,i){n.append(new Option(i.Text,i.Value))})}}),!1}function getSections(n,t){return n.empty(),n.append(new Option("Select Section","")),t!=""&&$.ajax({url:"/Masters/Users_GetSelectSections",data:{id:t},"async":!0,success:function(t){$.each(t,function(t,i){n.append(new Option(i.Text,i.Value))})}}),!1}function getProcesses(n,t){return n.empty(),n.append(new Option("Select Process","")),t!=""&&$.ajax({url:"/Masters/Users_GetSelectProcesses",data:{id:t},"async":!0,success:function(t){$.each(t,function(t,i){n.append(new Option(i.Text,i.Value))})}}),!1}function callDeleteItem(n,t=false){swal({title:"Are you sure?",text:"Once you delete this information, you cannot recover it.",icon:"warning",buttons:!0,dangerMode:!0}).then(i=>{if(i)return $.ajax({url:n,"async":!0,success:function(n){swal({title:n.title,text:n.text,icon:n.icon,button:n.button,dangerMode:n.dangerMode});n.icon=="success"&&($("#modalArea").modal("hide"),t?location.reload():reloadTable())}}),!1})}$(function(){AdjustMenu();$(window).resize(function(){AdjustMenu()});var n=!0,t=window.location.pathname,i=new RegExp(t.replace(/\/$/,"")+"$");$(".navbar-nav a").each(function(){n&&i.test(this.href.replace(/\/$/,""))&&($(this).addClass("active"),$(this).parent("li").addClass("bg-light"),n=!1)})});$(document).ajaxStart(function(){callSpin(!0)}).ajaxStop(function(){callSpin(!1)});